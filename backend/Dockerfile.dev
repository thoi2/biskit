# backend/Dockerfile.dev
FROM gradle:8.5-jdk21

WORKDIR /app

# Gradle ì„¤ì • ë³µì‚¬
COPY gradle/ gradle/
COPY gradlew build.gradle.kts settings.gradle.kts ./

# ì˜ì¡´ì„± ë¯¸ë¦¬ ë‹¤ìš´ë¡œë“œ (ìºì‹± ìµœì í™”)
RUN ./gradlew dependencies --no-daemon

# DevTools í™˜ê²½ë³€ìˆ˜
ENV SPRING_DEVTOOLS_RESTART_ENABLED=true
ENV SPRING_DEVTOOLS_LIVERELOAD_ENABLED=true

EXPOSE 8080
EXPOSE 35729

# ğŸ¯ í•µì‹¬: --continuous ì˜µì…˜ ì¶”ê°€
CMD ["./gradlew", "bootRun", "--continuous", "--no-daemon", "-x", "test"]
